(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(22)},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(3),s=n(6),r=n(5),o=n(7),c=n(4),u=n(0),l=n.n(u),d=n(9),m=n(1),h=n(14),v=n(10),p=n.n(v),f=n(11),b=n.n(f),O=n(12),w=n.n(O),E=n(13),S=n.n(E),P=!!b.a&&{passive:!0},k=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(r.a)(t).call(this,e))).removeAnimation=function(){},n._resizeHandler=p()(function(){return n._updateDimensions()},!0),n}return Object(o.a)(t,e),Object(i.a)(t,[{key:"_updateDimensions",value:function(){var e=this.props,t=this.wrapper,n=this.renderer,a=e.maintainAspectRatio,i=e.scene,s=e.camera,r=t.offsetWidth,o=t.offsetHeight;a&&(e.onResize&&e.onResize(r,o),s.aspect=r/o,s.updateProjectionMatrix()),n.setSize(r,o),n.render(i,s)}},{key:"getCanvasElement",value:function(){return this.canvas}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=this.wrapper,a=this.canvas,i=t.animator,s=t.camera;w()()?this.renderer=new m.h({canvas:a,antialias:!0}):this.renderer=new m.b({canvas:a}),this.renderer.setPixelRatio(window.devicePixelRatio),setTimeout(function(){var t=n.offsetWidth,a=n.offsetHeight;e.renderer.setSize(t,a),s.aspect=t/a,s.updateProjectionMatrix()}),window.addEventListener("resize",this._resizeHandler,P),a.addEventListener("resize",this._resizeHandler,P),window.MutationObserver&&(this.mutationObserver=new window.MutationObserver(this._resizeHandler),this.mutationObserver.observe(a,{attributes:!0})),this.animator=i||new S.a,t.animate&&(this.removeAnimation=this.animator.add(function(t){var n=e.props,a=e.wrapper,i=e.renderer,s=n.scene,r=n.camera,o=a.offsetWidth,c=a.offsetHeight;i.render(s,r),n.animate(o,c,t)}))}},{key:"componentWillUnmount",value:function(){var e=this.canvas;window.removeEventListener("resize",this._resizeHandler),e.removeEventListener("resize",this._resizeHandler),window.MutationObserver&&this.mutationObserver.disconnect(),this.removeAnimation()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.maintainAspectRatio,t.onResize,t.animator,t.animate,t.scene,t.camera,Object(h.a)(t,["maintainAspectRatio","onResize","animator","animate","scene","camera"]));return l.a.createElement("div",Object.assign({ref:function(t){return e.wrapper=t}},n),l.a.createElement("canvas",{ref:function(t){return e.canvas=t}}))}}]),t}(u.Component);k.defaultProps={maintainAspectRatio:!0};var y=k,H=(n(21),function(e){function t(e){var n;Object(a.a)(this,t),(n=Object(s.a)(this,Object(r.a)(t).call(this,e))).secondInterval=0,n.state={FPS:0,actualFPS:0,pauseOnHidden:!1,resumeOnShown:!1},n.animate=n.animate.bind(Object(c.a)(Object(c.a)(n))),n.scene=new m.g,n.camera=new m.e(50,1,1,1e3),n.camera.position.z=60,n.scene.add(n.camera);var i=new m.f(16776960);i.position.set(10,0,25),n.scene.add(i);var o=new m.a(20,20,20),u=new m.d({color:5635925});return n.cube=new m.c(o,u),n.scene.add(n.cube),n}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.canvas,t=e.animator,n=e.renderer,a=t.FPS,i=t.actualFPS,s=t.pauseOnHidden,r=t.resumeOnShown;this.setState({FPS:a,actualFPS:i,pauseOnHidden:s,resumeOnShown:r}),n.setClearColor(16777215)}},{key:"animate",value:function(e,t,n){var a=this.cube;a.rotation.x+=n,a.rotation.y+=n,this.secondInterval+=n,this.secondInterval>.5&&(this.setState({actualFPS:1/n}),this.secondInterval=0)}},{key:"setFPS",value:function(e){this.canvas.animator.setFPS(e),this.setState({FPS:e})}},{key:"setResumeOnShown",value:function(e){this.canvas.animator.setResumeOnShown(e),this.setState({resumeOnShown:e})}},{key:"setPauseOnHidden",value:function(e){this.canvas.animator.setPauseOnHidden(e),this.setState({pauseOnHidden:e})}},{key:"start",value:function(){this.canvas.animator.start()}},{key:"pause",value:function(){this.canvas.animator.pause()}},{key:"resume",value:function(){this.canvas.animator.resume()}},{key:"stop",value:function(){var e=this.canvas,t=this.cube,n=e.animator,a=e.renderer.context;n.stop(),a.clear(a.COLOR_BUFFER_BIT),t.rotation.x=0,t.rotation.y=0}},{key:"render",value:function(){var e=this,t=this.scene,n=this.camera,a=this.state,i=a.FPS,s=a.actualFPS,r=a.pauseOnHidden,o=a.resumeOnShown;return l.a.createElement("div",this.props,l.a.createElement(y,{className:"animation",ref:function(t){return e.canvas=t},animate:this.animate,scene:t,camera:n}),l.a.createElement("div",{className:"settings"},l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Actual FPS: "),l.a.createElement("input",{type:"number",value:s.toFixed(2),disabled:!0,onChange:function(){}})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"FPS: "),l.a.createElement("input",{type:"number",value:i,onChange:function(t){return e.setFPS(t.target.value)}})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Pause on hidden: "),l.a.createElement("input",{type:"checkbox",checked:r,onChange:function(t){return e.setPauseOnHidden(t.target.checked)}})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Resume on shown: "),l.a.createElement("input",{type:"checkbox",checked:o,onChange:function(t){return e.setResumeOnShown(t.target.checked)}}))))}}]),t}(u.Component)),j=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={status:"STOPPED"},n}return Object(o.a)(t,e),Object(i.a)(t,[{key:"startHandler",value:function(){this.a1.start(),this.a2.start(),this.setState({status:"PLAYING"})}},{key:"pauseHandler",value:function(){this.a1.pause(),this.a2.pause()}},{key:"resumeHandler",value:function(){this.a1.resume(),this.a2.resume()}},{key:"stopHandler",value:function(){this.a1.stop(),this.a2.stop(),this.setState({status:"STOPPED"})}},{key:"render",value:function(){var e=this,t=this.state.status;return l.a.createElement("div",null,l.a.createElement(H,{ref:function(t){return e.a1=t},id:"animator1"}),l.a.createElement(H,{ref:function(t){return e.a2=t},id:"animator2"}),l.a.createElement("div",{id:"controller"},l.a.createElement("button",{id:"start",onClick:function(){return e.startHandler()},disabled:"STOPPED"!==t},"start"),l.a.createElement("button",{id:"pause",onClick:function(){return e.pauseHandler()}},"pause"),l.a.createElement("button",{id:"resume",onClick:function(){return e.resumeHandler()}},"resume"),l.a.createElement("button",{id:"stop",onClick:function(){return e.stopHandler()},disabled:"STOPPED"===t},"stop")))}}]),t}(u.Component);Object(d.render)(l.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.d44dad36.chunk.js.map